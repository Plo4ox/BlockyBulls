import{cL as m,al as d,ao as L,_ as u}from"./index-883b95b7.js";import{getContractMetadata as b}from"./getContractMetadata-0eb471c6.js";import{h,M as A,c as p}from"./erc721-6bbb4fed.js";import"./symbol-43e6f39f.js";import"./ownerOf-dddff4ed.js";import"./upload-3259c06e.js";import"./regex-88e9c765.js";import"./prepare-event-311e153a.js";async function S(r){const{contract:t,merkleRoot:y,claimer:s}=r,o=((await b({contract:t})).merkle||{})[y];if(!o)return null;const n=await(await m({client:t.client,uri:o})).json(),D=s.slice(2,2+n.shardNybbles).toLowerCase(),k=n.baseUri.endsWith("/")?n.baseUri:`${n.baseUri}/`;let i;try{const e=`${k}${D}.json`;i=await(await m({client:t.client,uri:e})).json()}catch{return null}const w=await Promise.all(i.entries.map(async e=>h({entry:e,chain:t.chain,client:t.client,tokenDecimals:r.tokenDecimals}))),f=new A(w),a=i.entries.find(e=>e.address.toLowerCase()===s.toLowerCase());if(!a)return null;const _=f.getHexProof(await h({entry:a,chain:t.chain,client:t.client,tokenDecimals:r.tokenDecimals})).concat(i.proofs),c=a.currencyAddress||d,P=await(async()=>{if(L(c)||c===d)return 18;const[{getContract:e},{decimals:l}]=await Promise.all([u(()=>import("./index-883b95b7.js").then(E=>E.cQ),["assets/index-883b95b7.js","assets/index-45a555f8.css"]),u(()=>import("./decimals-60222901.js"),["assets/decimals-60222901.js","assets/index-883b95b7.js","assets/index-45a555f8.css","assets/decimals-fd9ab67a.js"])]),C=e({address:c,chain:t.chain,client:t.client});return await l({contract:C})})();return{proof:_,quantityLimitPerWallet:p({quantity:a.maxClaimable||"unlimited",tokenDecimals:r.tokenDecimals}),pricePerToken:p({quantity:a.price||"unlimited",tokenDecimals:P}),currency:c}}export{S as fetchProofsForClaimer};
