import{ac as K,ad as A,a9 as X,aa as Z,ae as E,af as ee,ag as te,a8 as ae,ab as re,ah as ne,u as x,N as p,ai as v,O as f,aj as P,_ as y,ak as ie,al as I,am as se,an as ce,ao as F,a0 as oe,X as R,Y as G,G as de,ap as O,aq as me}from"./index-1ebb32ef.js";import{g as N,t as ue}from"./getNFT-c54ba72d.js";import{ownerOf as D}from"./ownerOf-2c905bcf.js";import{upload as _}from"./upload-220b1431.js";import{c as le,a as ye,b as pe}from"./uint8-array-0bc57be6.js";import{i as fe,b as Pe,a as we}from"./regex-88e9c765.js";import{p as w}from"./prepare-event-b3befdde.js";function ge(t,a){if(t.length!==a.length)throw new K({expectedLength:t.length,givenLength:a.length});const e=[];for(let n=0;n<t.length;n++){const i=t[n],c=a[n];e.push(M(i,c))}return A(e)}function M(t,a,e=!1){if(t==="address"){const r=a;if(!X(r))throw new Z({address:r});return E(r.toLowerCase(),{size:e?32:null})}if(t==="string")return ee(a);if(t==="bytes")return a;if(t==="bool")return E(te(a),{size:e?32:1});const n=t.match(fe);if(n){const[r,s,o="256"]=n,d=Number.parseInt(o)/8;return ae(a,{size:e?32:d,signed:s==="int"})}const i=t.match(Pe);if(i){const[r,s]=i;if(Number.parseInt(s)!==(a.length-2)/2)throw new re({expectedSize:Number.parseInt(s),givenSize:(a.length-2)/2});return E(a,{dir:"right",size:e?32:null})}const c=t.match(we);if(c&&Array.isArray(a)){const[r,s]=c,o=[];for(let d=0;d<a.length;d++)o.push(M(s,a[d],!0));return o.length===0?"0x":A(o)}throw new ne(t)}const T=2n**256n-1n;function q(t,a){return t<a?t:a}function B(t){if(["string","number"].includes(typeof t)&&!Number.isInteger(Number(t)))throw new Error(`Expected value to be an integer to convert to a bigint, got ${t} of type ${typeof t}`);return t instanceof Uint8Array?BigInt(x(t)):BigInt(t)}const ve="0xe6798baa",Te=[],_e=[{type:"uint256"}];async function b(t){return p({contract:t.contract,method:[ve,Te,_e],params:[]})}const he="0x18160ddd",xe=[],Ie=[{type:"uint256"}];async function k(t){return p({contract:t.contract,method:[he,xe,Ie],params:[]})}const Se="0x3b1475a7",Ee=[],Fe=[{type:"uint256"}];async function h(t){return p({contract:t.contract,method:[Se,Ee,Fe],params:[]})}const Oe=100n;async function Ue(t){const[a,e]=await Promise.allSettled([b(t),h(t),k(t)]).then(([s,o,d])=>{const m=s.status==="fulfilled"?s.value:0n;let u;if(o.status==="fulfilled")u=o.value-m;else if(d.status==="fulfilled")u=d.value;else throw new Error("Contract requires either `nextTokenIdToMint` or `totalSupply` function available to determine the next token ID to mint");return[m,u]}),n=BigInt(t.start??0)+a,i=BigInt(t.count??Oe),c=q(e+a,n+i),r=[];for(let s=n;s<c;s++)r.push(N({...t,tokenId:s,includeOwner:t.includeOwners??!1}));return await Promise.all(r)}const Ne="0x70a08231",be=[{type:"address",name:"owner"}],ke=[{type:"uint256"}];async function j(t){return p({contract:t.contract,method:[Ne,be,ke],params:[t.owner]})}const Re="0x2f745c59",Ce=[{type:"address",name:"_owner"},{type:"uint256",name:"_index"}],Le=[{type:"uint256"}];async function z(t){return p({contract:t.contract,method:[Re,Ce,Le],params:[t.owner,t.index]})}const $e="0x8462151c",Ae=[{type:"address",name:"owner"}],Ge=[{type:"uint256[]"}];async function De(t){return p({contract:t.contract,method:[$e,Ae,Ge],params:[t.owner]})}const Me=100n;async function qe(t){const[a,e]=await Promise.allSettled([b(t),h(t),k(t)]).then(([s,o,d])=>{const m=s.status==="fulfilled"?s.value:0n;let u;if(o.status==="fulfilled")u=o.value-m;else if(d.status==="fulfilled")u=d.value;else throw new Error("Contract requires either `nextTokenIdToMint` or `totalSupply` function available to determine the next token ID to mint");return[m,u]}),n=BigInt(t.start??0)+a,i=BigInt(t.count??Me),c=q(e+a,n+i),r=[];for(let s=n;s<c;s++)r.push(D({contract:t.contract,tokenId:s}).catch(()=>v).then(o=>({tokenId:s,owner:o})));return await Promise.all(r)}const Be="0xe985e9c5",je=[{type:"address",name:"owner"},{type:"address",name:"operator"}],ze=[{type:"bool"}];async function Ve(t){return p({contract:t.contract,method:[Be,je,ze],params:[t.owner,t.operator]})}const We="0xacd083f8",He=[],Je=[{type:"uint256"}];async function Ye(t){return p({contract:t.contract,method:[We,He,Je],params:[]})}async function V(t){return Ye(t)}async function Qe(t){const[a,e]=await Promise.all([h(t),V(t)]);return a-e}async function W(t){const a=await j(t),e=[];for(let n=0n;n<a;n++)e.push(z({...t,index:n}));return Promise.all(e)}async function Ke(t){const a=await W(t);return Promise.all(a.map(e=>N({contract:t.contract,tokenId:e}).then(n=>({...n,owner:t.owner}))))}const Xe="0x0075a317",Ze=[{type:"address",name:"to"},{type:"string",name:"uri"}],et=[{type:"uint256"}];function tt(t){const a=P(async()=>"asyncParams"in t?await t.asyncParams():t);return f({contract:t.contract,method:[Xe,Ze,et],params:async()=>{const e=await a();return[e.to,e.uri]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function at(t){return tt({contract:t.contract,asyncParams:async()=>{let a;if(typeof t.nft=="string")a=t.nft;else{const{upload:e}=await y(()=>import("./upload-220b1431.js"),["./upload-220b1431.js","./index-1ebb32ef.js","./index-b446a0d4.css","./uint8-array-0bc57be6.js"],import.meta.url);a=await e({client:t.contract.client,files:[t.nft]})}return{to:t.to,uri:a}}})}const rt="0x23b872dd",nt=[{type:"address",name:"from"},{type:"address",name:"to"},{type:"uint256",name:"tokenId"}],it=[];function st(t){const a=P(async()=>"asyncParams"in t?await t.asyncParams():t);return f({contract:t.contract,method:[rt,nt,it],params:async()=>{const e=await a();return[e.from,e.to,e.tokenId]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}const ct="0x42966c68",ot=[{type:"uint256",name:"tokenId"}],dt=[];function mt(t){const a=P(async()=>"asyncParams"in t?await t.asyncParams():t);return f({contract:t.contract,method:[ct,ot,dt],params:async()=>[(await a()).tokenId],value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}const ut="0xa22cb465",lt=[{type:"address",name:"operator"},{type:"bool",name:"_approved"}],yt=[];function pt(t){const a=P(async()=>"asyncParams"in t?await t.asyncParams():t);return f({contract:t.contract,method:[ut,lt,yt],params:async()=>{const e=await a();return[e.operator,e.approved]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}const ft="0x095ea7b3",Pt=[{type:"address",name:"to"},{type:"uint256",name:"tokenId"}],wt=[];function gt(t){const a=P(async()=>"asyncParams"in t?await t.asyncParams():t);return f({contract:t.contract,method:[ft,Pt,wt],params:async()=>{const e=await a();return[e.to,e.tokenId]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}const vt="0x162094c4",Tt=[{type:"uint256",name:"_tokenId"},{type:"string",name:"_uri"}],_t=[];function ht(t){const a=P(async()=>"asyncParams"in t?await t.asyncParams():t);return f({contract:t.contract,method:[vt,Tt,_t],params:async()=>{const e=await a();return[e.tokenId,e.uri]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}const xt="0x6f8934f4",It=[{type:"uint256",name:"_conditionId"}],St=[{type:"tuple",name:"condition",components:[{type:"uint256",name:"startTimestamp"},{type:"uint256",name:"maxClaimableSupply"},{type:"uint256",name:"supplyClaimed"},{type:"uint256",name:"quantityLimitPerWallet"},{type:"bytes32",name:"merkleRoot"},{type:"uint256",name:"pricePerToken"},{type:"address",name:"currency"},{type:"string",name:"metadata"}]}];async function H(t){return p({contract:t.contract,method:[xt,It,St],params:[t.conditionId]})}const Et="0xd637ed59",Ft=[],Ot=[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"metadata",type:"string",internalType:"string"}];async function J(t){return p({contract:t.contract,method:[Et,Ft,Ot],params:[]})}const Ut="0xc68907de",Nt=[],bt=[{type:"uint256"}];async function kt(t){return p({contract:t.contract,method:[Ut,Nt,bt],params:[]})}async function Y(t){const a=async()=>{const c=await kt(t);return H({...t,conditionId:c})},e=async()=>{const[c,r,s,o,d,m,u,l]=await J(t);return{startTimestamp:c,maxClaimableSupply:r,supplyClaimed:s,quantityLimitPerWallet:o,merkleRoot:d,pricePerToken:m,currency:u,metadata:l}},i=(await Promise.allSettled([a(),e()])).find(c=>c.status==="fulfilled");if((i==null?void 0:i.status)==="fulfilled")return i.value;throw new Error("Claim condition not found")}const C=Object.freeze(Object.defineProperty({__proto__:null,getActiveClaimCondition:Y},Symbol.toStringTag,{value:"Module"}));async function Rt(t){const a=await(async()=>{if(t.type==="erc1155"){const{getActiveClaimCondition:r}=await y(()=>import("./getActiveClaimCondition-c02c73d6.js"),["./getActiveClaimCondition-c02c73d6.js","./index-1ebb32ef.js","./index-b446a0d4.css"],import.meta.url);return await r({contract:t.contract,tokenId:t.tokenId})}if(t.type==="erc721"){const{getActiveClaimCondition:r}=await y(()=>Promise.resolve().then(()=>C),void 0,import.meta.url);return await r({contract:t.contract})}const{getActiveClaimCondition:c}=await y(()=>Promise.resolve().then(()=>C),void 0,import.meta.url);return await c({contract:t.contract})})(),e=await(async()=>{if(!a.merkleRoot||a.merkleRoot===ie("0x",{size:32}))return{currency:v,proof:[],quantityLimitPerWallet:0n,pricePerToken:T};const{fetchProofsForClaimer:c}=await y(()=>import("./fetch-proofs-for-claimers-091379fb.js"),["./fetch-proofs-for-claimers-091379fb.js","./index-1ebb32ef.js","./index-b446a0d4.css","./getContractMetadata-d0fcda44.js","./parseNft-20a59f34.js","./uint8-array-0bc57be6.js","./symbol-66178518.js","./getNFT-c54ba72d.js","./ownerOf-2c905bcf.js","./upload-220b1431.js","./regex-88e9c765.js","./prepare-event-b3befdde.js"],import.meta.url),r=await c({contract:t.contract,claimer:t.from||t.to,merkleRoot:a.merkleRoot,tokenDecimals:t.type==="erc20"?t.tokenDecimals:0});return r||{currency:v,proof:[],quantityLimitPerWallet:0n,pricePerToken:T}})(),n=e.currency&&e.currency!==v?e.currency:a.currency,i=e.pricePerToken!==void 0&&e.pricePerToken!==T?e.pricePerToken:a.pricePerToken;return{receiver:t.to,tokenId:t.type==="erc1155"?t.tokenId:void 0,quantity:t.quantity,currency:n,pricePerToken:i,allowlistProof:e,data:"0x",overrides:{value:I(n)?i*BigInt(t.quantity):0n}}}const Ct="0x84bb1e42",Lt=[{type:"address",name:"receiver"},{type:"uint256",name:"quantity"},{type:"address",name:"currency"},{type:"uint256",name:"pricePerToken"},{type:"tuple",name:"allowlistProof",components:[{type:"bytes32[]",name:"proof"},{type:"uint256",name:"quantityLimitPerWallet"},{type:"uint256",name:"pricePerToken"},{type:"address",name:"currency"}]},{type:"bytes",name:"data"}],$t=[];function At(t){const a=P(async()=>"asyncParams"in t?await t.asyncParams():t);return f({contract:t.contract,method:[Ct,Lt,$t],params:async()=>{const e=await a();return[e.receiver,e.quantity,e.currency,e.pricePerToken,e.allowlistProof,e.data]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function Gt(t){return At({contract:t.contract,asyncParams:()=>Rt({type:"erc721",contract:t.contract,to:t.to,quantity:t.quantity,from:t.from})})}const Dt="0xd37c353b",Mt=[{type:"uint256",name:"amount"},{type:"string",name:"baseURIForTokens"},{type:"bytes",name:"extraData"}],qt=[{type:"uint256",name:"batchId"}];function Bt(t){const a=P(async()=>"asyncParams"in t?await t.asyncParams():t);return f({contract:t.contract,method:[Dt,Mt,qt],params:async()=>{const e=await a();return[e.amount,e.baseURIForTokens,e.extraData]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function jt(t){return Bt({contract:t.contract,asyncParams:async()=>{const a=await h({contract:t.contract}),e=await se(t.nfts,t.contract.client,Number(a)),n=ce(e);return{amount:BigInt(e.length),baseURIForTokens:n.endsWith("/")?n:`${n}/`,extraData:"0x"}}})}function zt(){return new Date(Date.now()+1e3*60*60*24*365*10)}function U(t){return B(Math.floor(t.getTime()/1e3))}async function Q(t){if("amount"in t){if(!t.erc20Address||I(t.erc20Address))return F(t.amount.toString(),18);const a=oe({client:t.client,chain:t.chain,address:t.erc20Address}),{decimals:e}=await y(()=>import("./decimals-27e98ea1.js"),["./decimals-27e98ea1.js","./index-1ebb32ef.js","./index-b446a0d4.css","./decimals-7882d418.js"],import.meta.url),n=await e({contract:a});return F(t.amount.toString(),n)}return t.amountInWei}const Vt=Object.freeze(Object.defineProperty({__proto__:null,convertErc20Amount:Q},Symbol.toStringTag,{value:"Module"}));class L{constructor(a){Object.defineProperty(this,"leaves",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.leaves=a.map(e=>e instanceof Uint8Array?e:R(e)),this.leaves=this.leaves.sort(),this.createHashes(this.leaves)}getHexRoot(){return x(this.getRoot())}getHexProof(a,e){return this.getProof(a,e).map(n=>x(n.data))}createHashes(a){for(this.layers=[a];a.length>1;){const e=this.layers.length;this.layers.push([]);const n=a.length;for(let i=0;i<a.length;i+=2){if(i>=n){this.layers[e].push(...a.slice(n));break}if(i+1===a.length&&a.length%2===1){this.layers[e].push(a[i]);continue}const c=a[i],r=i+1===a.length?c:a[i+1],s=[c,r];s.sort(le);const o=G(ye(s),"bytes");this.layers[e].push(o)}a=this.layers[e]}}getRoot(){return this.layers.length===0?new Uint8Array:this.layers[this.layers.length-1][0]||new Uint8Array}getProof(a,e){if(typeof a>"u")throw new Error("leaf is required");a=a instanceof Uint8Array?a:R(a);const n=[];if(!Number.isInteger(e)){e=-1;for(let i=0;i<this.leaves.length;i++)pe(a,this.leaves[i])&&(e=i)}if(e<=-1)return[];for(let i=0;i<this.layers.length;i++){const c=this.layers[i],r=e%2,s=r?e-1:e+1;s<c.length&&n.push({position:r?"left":"right",data:c[s]}),e=e/2|0}return n}}function $(t){const{quantity:a,tokenDecimals:e}=t;return a==="unlimited"?T:F(a,e)}async function Wt(t){const a=t.entry.currencyAddress||v,e=await(async()=>{if(I(a)||a===v)return 18;const[{getContract:n},{decimals:i}]=await Promise.all([y(()=>import("./index-1ebb32ef.js").then(r=>r.cC),["./index-1ebb32ef.js","./index-b446a0d4.css"],import.meta.url),y(()=>import("./decimals-27e98ea1.js"),["./decimals-27e98ea1.js","./index-1ebb32ef.js","./index-b446a0d4.css","./decimals-7882d418.js"],import.meta.url)]),c=n({address:a,chain:t.chain,client:t.client});return await i({contract:c})})();return G(ge(["address","uint256","uint256","address"],[t.entry.address,$({quantity:t.entry.maxClaimable||"unlimited",tokenDecimals:t.tokenDecimals}),$({quantity:t.entry.price||"unlimited",tokenDecimals:e}),a]))}async function Ht(t){const a=t.shardNybbles||2,e={};for(const l of t.overrides){const g=l.address.slice(2,2+a).toLowerCase();e[g]===void 0&&(e[g]=[]),e[g].push(l)}const n=await Promise.all(Object.entries(e).map(async([l,g])=>[l,new L(await Promise.all(g.map(async S=>Wt({entry:S,chain:t.chain,client:t.client,tokenDecimals:t.tokenDecimals})))).getHexRoot()])),i=Object.fromEntries(n),c=new L(Object.values(i)),r=[];for(const[l,g]of Object.entries(e)){const S={proofs:c.getHexProof(i[l]),entries:g};r.push({data:JSON.stringify(S),name:`${l}.json`})}let s=await _({client:t.client,files:r});if(Array.isArray(s)||(s=[s]),s.length===0)throw new Error("No URIs returned from uploading merkle tree shards");const o=s[0].slice(0,s[0].lastIndexOf("/")),d=await _({client:t.client,files:[JSON.stringify(t.overrides)]}),m={merkleRoot:c.getHexRoot(),baseUri:o,originalEntriesUri:d,shardNybbles:a,tokenDecimals:t.tokenDecimals,isShardedMerkleTree:!0},u=await _({client:t.client,files:[m]});return{shardedMerkleInfo:m,uri:u}}async function Jt(t){const a={},e=await Promise.all(t.phases.map(async r=>{var d;let s=r.merkleRootHash||de("",{size:32});if(r.overrideList){const{shardedMerkleInfo:m,uri:u}=await Ht({overrides:r.overrideList,client:t.contract.client,chain:t.contract.chain,tokenDecimals:t.tokenDecimals});a[m.merkleRoot]=u,s=m.merkleRoot}let o="";return r.metadata&&typeof r.metadata=="string"?o=r.metadata:r.metadata&&typeof r.metadata=="object"&&(o=await _({client:t.contract.client,files:[r.metadata]})),{startTimestamp:U(r.startTime??new Date(0)),currency:r.currencyAddress||O,pricePerToken:await Q({chain:t.contract.chain,client:t.contract.client,erc20Address:r.currencyAddress||O,amount:((d=r.price)==null?void 0:d.toString())??"0"}),maxClaimableSupply:r.maxClaimableSupply??T,quantityLimitPerWallet:r.maxClaimablePerWallet??T,merkleRoot:s,metadata:o,supplyClaimed:0n}})),n=[];if(Object.keys(a).length>0){const[{getContractMetadata:r},{encodeSetContractURI:s}]=await Promise.all([y(()=>import("./getContractMetadata-d0fcda44.js"),["./getContractMetadata-d0fcda44.js","./index-1ebb32ef.js","./index-b446a0d4.css","./parseNft-20a59f34.js","./uint8-array-0bc57be6.js","./symbol-66178518.js"],import.meta.url),y(()=>import("./setContractURI-a42a5fe1.js"),["./setContractURI-a42a5fe1.js","./index-1ebb32ef.js","./index-b446a0d4.css"],import.meta.url)]),o=await r({contract:t.contract});for(const l of Object.keys(o.merkle||{}))a[l]=o.merkle[l];const d={...o,merkle:a},m=await _({client:t.contract.client,files:[d]}),u=s({uri:m});n.push(u)}const i=e.sort((r,s)=>Number(r.startTimestamp-s.startTimestamp));let c;if(t.tokenId!==void 0){const{encodeSetClaimConditions:r}=await y(()=>import("./setClaimConditions-f577f6be.js"),["./setClaimConditions-f577f6be.js","./index-1ebb32ef.js","./index-b446a0d4.css"],import.meta.url);c=r({tokenId:t.tokenId,phases:i,resetClaimEligibility:t.resetClaimEligibility||!1})}else{const{encodeSetClaimConditions:r}=await y(()=>import("./setClaimConditions-87a12672.js"),["./setClaimConditions-87a12672.js","./index-1ebb32ef.js","./index-b446a0d4.css"],import.meta.url);c=r({phases:i,resetClaimEligibility:t.resetClaimEligibility||!1})}return n.push(c),n}const Yt="0xac9650d8",Qt=[{type:"bytes[]",name:"data"}],Kt=[{type:"bytes[]",name:"results"}];function Xt(t){const a=P(async()=>"asyncParams"in t?await t.asyncParams():t);return f({contract:t.contract,method:[Yt,Qt,Kt],params:async()=>[(await a()).data],value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function Zt(t){return Xt({contract:t.contract,asyncParams:async()=>({data:await Jt({contract:t.contract,phases:t.phases,resetClaimEligibility:t.resetClaimEligibility,tokenDecimals:0})})})}async function ea(t=32){return x(globalThis.crypto.getRandomValues(new Uint8Array(t)))}const ta="0x2c4510f8",aa=[{type:"tuple",name:"payload",components:[{type:"address",name:"to"},{type:"address",name:"royaltyRecipient"},{type:"uint256",name:"royaltyBps"},{type:"address",name:"primarySaleRecipient"},{type:"string",name:"uri"},{type:"uint256",name:"price"},{type:"address",name:"currency"},{type:"uint128",name:"validityStartTimestamp"},{type:"uint128",name:"validityEndTimestamp"},{type:"bytes32",name:"uid"}]},{type:"bytes",name:"signature"}],ra=[{type:"uint256",name:"tokenIdMinted"}];function na(t){const a=P(async()=>"asyncParams"in t?await t.asyncParams():t);return f({contract:t.contract,method:[ta,aa,ra],params:async()=>{const e=await a();return[e.payload,e.signature]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function ia(t){const a=I(t.payload.currency)?t.payload.price:0n;return na({...t,overrides:{value:a}})}async function sa(t){const{mintRequest:a,account:e,contract:n}=t,i=a.currency||O,[c,r,s]=await Promise.all([(async()=>{if("priceInWei"in a&&a.priceInWei)return a.priceInWei;if("price"in a&&a.price){const{convertErc20Amount:l}=await y(()=>Promise.resolve().then(()=>Vt),void 0,import.meta.url);return await l({amount:a.price,client:n.client,chain:n.chain,erc20Address:i})}return 0n})(),(async()=>{if("metadata"in a){if(typeof a.metadata=="object"){const{upload:l}=await y(()=>import("./upload-220b1431.js"),["./upload-220b1431.js","./index-1ebb32ef.js","./index-b446a0d4.css","./uint8-array-0bc57be6.js"],import.meta.url);return await l({client:t.contract.client,files:[a.metadata]})}return a.metadata}return""})(),a.uid||await ea()]),o=a.validityStartTimestamp||new Date(0),d=a.validityEndTimestamp||zt(),m={uri:r,currency:i,uid:s,price:c,to:a.to,royaltyRecipient:a.royaltyRecipient||e.address,royaltyBps:B(a.royaltyBps||0),primarySaleRecipient:a.primarySaleRecipient||e.address,validityStartTimestamp:U(o),validityEndTimestamp:U(d)},u=await e.signTypedData({domain:{name:"TokenERC721",version:"1",chainId:n.chain.id,verifyingContract:n.address},types:{MintRequest:ca},primaryType:"MintRequest",message:m});return{payload:m,signature:u}}const ca=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],oa="0xb280f703",da=[],ma=[{type:"string",name:"name"},{type:"string",name:"description"},{type:"string",name:"imageURI"},{type:"string",name:"animationURI"}];async function ua(t){return p({contract:t.contract,method:[oa,da,ma],params:[]})}const la="0xa7d27d9d",ya=[{type:"tuple",name:"_metadata",components:[{type:"string",name:"name"},{type:"string",name:"description"},{type:"string",name:"imageURI"},{type:"string",name:"animationURI"}]}],pa=[];function fa(t){const a=P(async()=>"asyncParams"in t?await t.asyncParams():t);return f({contract:t.contract,method:[la,ya,pa],params:async()=>[(await a()).metadata],value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function Pa(t){return fa({contract:t.contract,asyncParams:async()=>{if(!t.nft.name)throw new Error("NFT name is required");const a=[(async()=>{if(!t.nft.image)return"";if(typeof t.nft.image=="string")return t.nft.image;const{upload:i}=await y(()=>import("./upload-220b1431.js"),["./upload-220b1431.js","./index-1ebb32ef.js","./index-b446a0d4.css","./uint8-array-0bc57be6.js"],import.meta.url);return await i({client:t.contract.client,files:[t.nft.image]})})(),(async()=>{if(!t.nft.animation_url)return"";if(typeof t.nft.animation_url=="string")return t.nft.animation_url;const{upload:i}=await y(()=>import("./upload-220b1431.js"),["./upload-220b1431.js","./index-1ebb32ef.js","./index-b446a0d4.css","./uint8-array-0bc57be6.js"],import.meta.url);return await i({client:t.contract.client,files:[t.nft.animation_url]})})()],[e,n]=await Promise.all(a);return{metadata:{name:t.nft.name,description:wa(t.nft.description)??"",imageURI:e??"",animationURI:n??""}}}})}function wa(t){if(!t)return t;const a=JSON.stringify(t);return a.slice(1,a.length-1)}function ga(t={}){return w({signature:"event Transfer(address indexed from, address indexed to, uint256 indexed tokenId)",filters:t})}function va(t={}){return w({signature:"event TokensLazyMinted(uint256 indexed startTokenId, uint256 endTokenId, string baseURI, bytes encryptedBaseURI)",filters:t})}function Ta(t={}){return w({signature:"event Approval(address indexed owner, address indexed approved, uint256 indexed tokenId)",filters:t})}function _a(t={}){return w({signature:"event ApprovalForAll(address indexed owner, address indexed operator, bool approved)",filters:t})}function ha(t={}){return w({signature:"event TokensMintedWithSignature(address indexed signer, address indexed mintedTo, uint256 indexed tokenIdMinted, (address to, address royaltyRecipient, uint256 royaltyBps, address primarySaleRecipient, string uri, uint256 price, address currency, uint128 validityStartTimestamp, uint128 validityEndTimestamp, bytes32 uid) mintpayload)",filters:t})}function xa(){return w({signature:"event ClaimConditionsUpdated((uint256 startTimestamp, uint256 maxClaimableSupply, uint256 supplyClaimed, uint256 quantityLimitPerWallet, bytes32 merkleRoot, uint256 pricePerToken, address currency, string metadata)[] claimConditions, bool resetEligibility)"})}function Ia(t={}){return w({signature:"event TokensClaimed(uint256 indexed claimConditionIndex, address indexed claimer, address indexed receiver, uint256 startTokenId, uint256 quantityClaimed)",filters:t})}function Sa(){return w({signature:"event SharedMetadataUpdated(string name, string description, string imageURI, string animationURI)"})}function Ea(t={}){return w({signature:"event TokenURIRevealed(uint256 indexed index, string revealedURI)",filters:t})}const Ca=Object.freeze(Object.defineProperty({__proto__:null,approvalEvent:Ta,approvalForAllEvent:_a,approve:gt,balanceOf:j,burn:mt,claimCondition:J,claimConditionsUpdatedEvent:xa,claimTo:Gt,generateMintSignature:sa,getActiveClaimCondition:Y,getAllOwners:qe,getClaimConditionById:H,getNFT:N,getNFTs:Ue,getOwnedNFTs:Ke,getOwnedTokenIds:W,getTotalClaimedSupply:V,getTotalUnclaimedSupply:Qe,isApprovedForAll:Ve,isERC721:me,lazyMint:jt,mintTo:at,mintWithSignature:ia,nextTokenIdToMint:h,ownerOf:D,setApprovalForAll:pt,setClaimConditions:Zt,setSharedMetadata:Pa,setTokenURI:ht,sharedMetadata:ua,sharedMetadataUpdatedEvent:Sa,startTokenId:b,tokenOfOwnerByIndex:z,tokenURI:ue,tokenURIRevealedEvent:Ea,tokensClaimedEvent:Ia,tokensLazyMintedEvent:va,tokensMintedWithSignatureEvent:ha,tokensOfOwner:De,totalSupply:k,transferEvent:ga,transferFrom:st},Symbol.toStringTag,{value:"Module"}));export{L as M,$ as c,Ca as e,Wt as h};
