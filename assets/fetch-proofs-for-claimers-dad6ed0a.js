import{cL as m,al as d,ao as L,_ as u}from"./index-e9bc3d71.js";import{getContractMetadata as b}from"./getContractMetadata-b8db7546.js";import{h,M as A,c as p}from"./erc721-a0ebc376.js";import"./symbol-3f4d4aac.js";import"./ownerOf-c0e8c17f.js";import"./upload-7136c9e0.js";import"./regex-88e9c765.js";import"./prepare-event-1a532107.js";async function S(r){const{contract:t,merkleRoot:y,claimer:s}=r,o=((await b({contract:t})).merkle||{})[y];if(!o)return null;const n=await(await m({client:t.client,uri:o})).json(),D=s.slice(2,2+n.shardNybbles).toLowerCase(),k=n.baseUri.endsWith("/")?n.baseUri:`${n.baseUri}/`;let i;try{const e=`${k}${D}.json`;i=await(await m({client:t.client,uri:e})).json()}catch{return null}const w=await Promise.all(i.entries.map(async e=>h({entry:e,chain:t.chain,client:t.client,tokenDecimals:r.tokenDecimals}))),f=new A(w),a=i.entries.find(e=>e.address.toLowerCase()===s.toLowerCase());if(!a)return null;const _=f.getHexProof(await h({entry:a,chain:t.chain,client:t.client,tokenDecimals:r.tokenDecimals})).concat(i.proofs),c=a.currencyAddress||d,P=await(async()=>{if(L(c)||c===d)return 18;const[{getContract:e},{decimals:l}]=await Promise.all([u(()=>import("./index-e9bc3d71.js").then(E=>E.cQ),["assets/index-e9bc3d71.js","assets/index-1b569fdb.css"]),u(()=>import("./decimals-f99a6bfb.js"),["assets/decimals-f99a6bfb.js","assets/index-e9bc3d71.js","assets/index-1b569fdb.css","assets/decimals-efe8a751.js"])]),C=e({address:c,chain:t.chain,client:t.client});return await l({contract:C})})();return{proof:_,quantityLimitPerWallet:p({quantity:a.maxClaimable||"unlimited",tokenDecimals:r.tokenDecimals}),pricePerToken:p({quantity:a.price||"unlimited",tokenDecimals:P}),currency:c}}export{S as fetchProofsForClaimer};
