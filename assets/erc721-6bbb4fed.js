import{ae as Q,af as $,ab as J,ac as Y,ag as E,ah as K,ai as Z,aa as X,ad as ee,aj as te,u as x,Q as P,ak as A,al as w,S as p,am as f,_ as l,an as ae,ao as I,ap as ne,aq as re,ar as F,a3 as ie,$ as N,as as se,a0 as G,at as ce,au as oe,I as de,av as O,aw as ye,ax as ue,ay as me,az as le,aA as pe,aB as fe}from"./index-883b95b7.js";import{ownerOf as D}from"./ownerOf-dddff4ed.js";import{upload as _}from"./upload-3259c06e.js";import{i as Pe,b as ge,a as ve}from"./regex-88e9c765.js";import{p as g}from"./prepare-event-311e153a.js";function we(t,a){if(t.length!==a.length)throw new Q({expectedLength:t.length,givenLength:a.length});const e=[];for(let i=0;i<t.length;i++){const r=t[i],c=a[i];e.push(M(r,c))}return $(e)}function M(t,a,e=!1){if(t==="address"){const n=a;if(!J(n))throw new Y({address:n});return E(n.toLowerCase(),{size:e?32:null})}if(t==="string")return K(a);if(t==="bytes")return a;if(t==="bool")return E(Z(a),{size:e?32:1});const i=t.match(Pe);if(i){const[n,s,o="256"]=i,d=Number.parseInt(o)/8;return X(a,{size:e?32:d,signed:s==="int"})}const r=t.match(ge);if(r){const[n,s]=r;if(Number.parseInt(s)!==(a.length-2)/2)throw new ee({expectedSize:Number.parseInt(s),givenSize:(a.length-2)/2});return E(a,{dir:"right",size:e?32:null})}const c=t.match(ve);if(c&&Array.isArray(a)){const[n,s]=c,o=[];for(let d=0;d<a.length;d++)o.push(M(s,a[d],!0));return o.length===0?"0x":$(o)}throw new te(t)}const T=2n**256n-1n;function q(t,a){return t<a?t:a}function B(t){if(["string","number"].includes(typeof t)&&!Number.isInteger(Number(t)))throw new Error(`Expected value to be an integer to convert to a bigint, got ${t} of type ${typeof t}`);return t instanceof Uint8Array?BigInt(x(t)):BigInt(t)}const Te="0xe6798baa",_e=[],he=[{type:"uint256"}];async function k(t){return P({contract:t.contract,method:[Te,_e,he],params:[]})}const xe="0x18160ddd",Ie=[],Se=[{type:"uint256"}];async function b(t){return P({contract:t.contract,method:[xe,Ie,Se],params:[]})}const Ee="0x3b1475a7",Fe=[],Oe=[{type:"uint256"}];async function h(t){return P({contract:t.contract,method:[Ee,Fe,Oe],params:[]})}const Ue=100n;async function ke(t){const[a,e]=await Promise.allSettled([k(t),h(t),b(t)]).then(([s,o,d])=>{const y=s.status==="fulfilled"?s.value:0n;let u;if(o.status==="fulfilled")u=o.value-y;else if(d.status==="fulfilled")u=d.value;else throw new Error("Contract requires either `nextTokenIdToMint` or `totalSupply` function available to determine the next token ID to mint");return[y,u]}),i=BigInt(t.start??0)+a,r=BigInt(t.count??Ue),c=q(e+a,i+r),n=[];for(let s=i;s<c;s++)n.push(A({...t,tokenId:s,includeOwner:t.includeOwners??!1}));return await Promise.all(n)}const be="0x8462151c",Ne=[{type:"address",name:"owner"}],Re=[{type:"uint256[]"}];async function Ce(t){return P({contract:t.contract,method:[be,Ne,Re],params:[t.owner]})}const Le=100n;async function $e(t){const[a,e]=await Promise.allSettled([k(t),h(t),b(t)]).then(([s,o,d])=>{const y=s.status==="fulfilled"?s.value:0n;let u;if(o.status==="fulfilled")u=o.value-y;else if(d.status==="fulfilled")u=d.value;else throw new Error("Contract requires either `nextTokenIdToMint` or `totalSupply` function available to determine the next token ID to mint");return[y,u]}),i=BigInt(t.start??0)+a,r=BigInt(t.count??Le),c=q(e+a,i+r),n=[];for(let s=i;s<c;s++)n.push(D({contract:t.contract,tokenId:s}).catch(()=>w).then(o=>({tokenId:s,owner:o})));return await Promise.all(n)}const Ae="0xe985e9c5",Ge=[{type:"address",name:"owner"},{type:"address",name:"operator"}],De=[{type:"bool"}];async function Me(t){return P({contract:t.contract,method:[Ae,Ge,De],params:[t.owner,t.operator]})}const qe="0xacd083f8",Be=[],je=[{type:"uint256"}];async function ze(t){return P({contract:t.contract,method:[qe,Be,je],params:[]})}async function j(t){return ze(t)}async function Ve(t){const[a,e]=await Promise.all([h(t),j(t)]);return a-e}const We="0x0075a317",He=[{type:"address",name:"to"},{type:"string",name:"uri"}],Qe=[{type:"uint256"}];function Je(t){const a=f(async()=>"asyncParams"in t?await t.asyncParams():t);return p({contract:t.contract,method:[We,He,Qe],params:async()=>{const e=await a();return[e.to,e.uri]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function Ye(t){return Je({contract:t.contract,asyncParams:async()=>{let a;if(typeof t.nft=="string")a=t.nft;else{const{upload:e}=await l(()=>import("./upload-3259c06e.js"),["assets/upload-3259c06e.js","assets/index-883b95b7.js","assets/index-45a555f8.css"]);a=await e({client:t.contract.client,files:[t.nft]})}return{to:t.to,uri:a}}})}const Ke="0x23b872dd",Ze=[{type:"address",name:"from"},{type:"address",name:"to"},{type:"uint256",name:"tokenId"}],Xe=[];function et(t){const a=f(async()=>"asyncParams"in t?await t.asyncParams():t);return p({contract:t.contract,method:[Ke,Ze,Xe],params:async()=>{const e=await a();return[e.from,e.to,e.tokenId]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}const tt="0x42966c68",at=[{type:"uint256",name:"tokenId"}],nt=[];function rt(t){const a=f(async()=>"asyncParams"in t?await t.asyncParams():t);return p({contract:t.contract,method:[tt,at,nt],params:async()=>[(await a()).tokenId],value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}const it="0xa22cb465",st=[{type:"address",name:"operator"},{type:"bool",name:"_approved"}],ct=[];function ot(t){const a=f(async()=>"asyncParams"in t?await t.asyncParams():t);return p({contract:t.contract,method:[it,st,ct],params:async()=>{const e=await a();return[e.operator,e.approved]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}const dt="0x095ea7b3",yt=[{type:"address",name:"to"},{type:"uint256",name:"tokenId"}],ut=[];function mt(t){const a=f(async()=>"asyncParams"in t?await t.asyncParams():t);return p({contract:t.contract,method:[dt,yt,ut],params:async()=>{const e=await a();return[e.to,e.tokenId]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}const lt="0x162094c4",pt=[{type:"uint256",name:"_tokenId"},{type:"string",name:"_uri"}],ft=[];function Pt(t){const a=f(async()=>"asyncParams"in t?await t.asyncParams():t);return p({contract:t.contract,method:[lt,pt,ft],params:async()=>{const e=await a();return[e.tokenId,e.uri]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}const gt="0x6f8934f4",vt=[{type:"uint256",name:"_conditionId"}],wt=[{type:"tuple",name:"condition",components:[{type:"uint256",name:"startTimestamp"},{type:"uint256",name:"maxClaimableSupply"},{type:"uint256",name:"supplyClaimed"},{type:"uint256",name:"quantityLimitPerWallet"},{type:"bytes32",name:"merkleRoot"},{type:"uint256",name:"pricePerToken"},{type:"address",name:"currency"},{type:"string",name:"metadata"}]}];async function z(t){return P({contract:t.contract,method:[gt,vt,wt],params:[t.conditionId]})}const Tt="0xd637ed59",_t=[],ht=[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"metadata",type:"string",internalType:"string"}];async function V(t){return P({contract:t.contract,method:[Tt,_t,ht],params:[]})}const xt="0xc68907de",It=[],St=[{type:"uint256"}];async function Et(t){return P({contract:t.contract,method:[xt,It,St],params:[]})}async function W(t){const a=async()=>{const c=await Et(t);return z({...t,conditionId:c})},e=async()=>{const[c,n,s,o,d,y,u,m]=await V(t);return{startTimestamp:c,maxClaimableSupply:n,supplyClaimed:s,quantityLimitPerWallet:o,merkleRoot:d,pricePerToken:y,currency:u,metadata:m}},r=(await Promise.allSettled([a(),e()])).find(c=>c.status==="fulfilled");if((r==null?void 0:r.status)==="fulfilled")return r.value;throw new Error("Claim condition not found")}const R=Object.freeze(Object.defineProperty({__proto__:null,getActiveClaimCondition:W},Symbol.toStringTag,{value:"Module"}));async function Ft(t){const a=await(async()=>{if(t.type==="erc1155"){const{getActiveClaimCondition:n}=await l(()=>import("./getActiveClaimCondition-4b624de9.js"),["assets/getActiveClaimCondition-4b624de9.js","assets/index-883b95b7.js","assets/index-45a555f8.css"]);return await n({contract:t.contract,tokenId:t.tokenId})}if(t.type==="erc721"){const{getActiveClaimCondition:n}=await l(()=>Promise.resolve().then(()=>R),void 0);return await n({contract:t.contract})}const{getActiveClaimCondition:c}=await l(()=>Promise.resolve().then(()=>R),void 0);return await c({contract:t.contract})})(),e=await(async()=>{if(!a.merkleRoot||a.merkleRoot===ae("0x",{size:32}))return{currency:w,proof:[],quantityLimitPerWallet:0n,pricePerToken:T};const{fetchProofsForClaimer:c}=await l(()=>import("./fetch-proofs-for-claimers-868ed0d3.js"),["assets/fetch-proofs-for-claimers-868ed0d3.js","assets/index-883b95b7.js","assets/index-45a555f8.css","assets/getContractMetadata-0eb471c6.js","assets/symbol-43e6f39f.js","assets/ownerOf-dddff4ed.js","assets/upload-3259c06e.js","assets/regex-88e9c765.js","assets/prepare-event-311e153a.js"]),n=await c({contract:t.contract,claimer:t.from||t.to,merkleRoot:a.merkleRoot,tokenDecimals:t.type==="erc20"?t.tokenDecimals:0});return n||{currency:w,proof:[],quantityLimitPerWallet:0n,pricePerToken:T}})(),i=e.currency&&e.currency!==w?e.currency:a.currency,r=e.pricePerToken!==void 0&&e.pricePerToken!==T?e.pricePerToken:a.pricePerToken;return{receiver:t.to,tokenId:t.type==="erc1155"?t.tokenId:void 0,quantity:t.quantity,currency:i,pricePerToken:r,allowlistProof:e,data:"0x",overrides:{value:I(i)?r*BigInt(t.quantity):0n}}}const Ot="0x84bb1e42",Ut=[{type:"address",name:"receiver"},{type:"uint256",name:"quantity"},{type:"address",name:"currency"},{type:"uint256",name:"pricePerToken"},{type:"tuple",name:"allowlistProof",components:[{type:"bytes32[]",name:"proof"},{type:"uint256",name:"quantityLimitPerWallet"},{type:"uint256",name:"pricePerToken"},{type:"address",name:"currency"}]},{type:"bytes",name:"data"}],kt=[];function bt(t){const a=f(async()=>"asyncParams"in t?await t.asyncParams():t);return p({contract:t.contract,method:[Ot,Ut,kt],params:async()=>{const e=await a();return[e.receiver,e.quantity,e.currency,e.pricePerToken,e.allowlistProof,e.data]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function Nt(t){return bt({contract:t.contract,asyncParams:()=>Ft({type:"erc721",contract:t.contract,to:t.to,quantity:t.quantity,from:t.from})})}const Rt="0xd37c353b",Ct=[{type:"uint256",name:"amount"},{type:"string",name:"baseURIForTokens"},{type:"bytes",name:"extraData"}],Lt=[{type:"uint256",name:"batchId"}];function $t(t){const a=f(async()=>"asyncParams"in t?await t.asyncParams():t);return p({contract:t.contract,method:[Rt,Ct,Lt],params:async()=>{const e=await a();return[e.amount,e.baseURIForTokens,e.extraData]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function At(t){return $t({contract:t.contract,asyncParams:async()=>{const a=await h({contract:t.contract}),e=await ne(t.nfts,t.contract.client,Number(a)),i=re(e);return{amount:BigInt(e.length),baseURIForTokens:i.endsWith("/")?i:`${i}/`,extraData:"0x"}}})}function Gt(){return new Date(Date.now()+1e3*60*60*24*365*10)}function U(t){return B(Math.floor(t.getTime()/1e3))}async function H(t){if("amount"in t){if(!t.erc20Address||I(t.erc20Address))return F(t.amount.toString(),18);const a=ie({client:t.client,chain:t.chain,address:t.erc20Address}),{decimals:e}=await l(()=>import("./decimals-60222901.js"),["assets/decimals-60222901.js","assets/index-883b95b7.js","assets/index-45a555f8.css","assets/decimals-fd9ab67a.js"]),i=await e({contract:a});return F(t.amount.toString(),i)}return t.amountInWei}const Dt=Object.freeze(Object.defineProperty({__proto__:null,convertErc20Amount:H},Symbol.toStringTag,{value:"Module"}));class C{constructor(a){Object.defineProperty(this,"leaves",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.leaves=a.map(e=>e instanceof Uint8Array?e:N(e)),this.leaves=this.leaves.sort(),this.createHashes(this.leaves)}getHexRoot(){return x(this.getRoot())}getHexProof(a,e){return this.getProof(a,e).map(i=>x(i.data))}createHashes(a){for(this.layers=[a];a.length>1;){const e=this.layers.length;this.layers.push([]);const i=a.length;for(let r=0;r<a.length;r+=2){if(r>=i){this.layers[e].push(...a.slice(i));break}if(r+1===a.length&&a.length%2===1){this.layers[e].push(a[r]);continue}const c=a[r],n=r+1===a.length?c:a[r+1],s=[c,n];s.sort(se);const o=G(ce(s),"bytes");this.layers[e].push(o)}a=this.layers[e]}}getRoot(){return this.layers.length===0?new Uint8Array:this.layers[this.layers.length-1][0]||new Uint8Array}getProof(a,e){if(typeof a>"u")throw new Error("leaf is required");a=a instanceof Uint8Array?a:N(a);const i=[];if(!Number.isInteger(e)){e=-1;for(let r=0;r<this.leaves.length;r++)oe(a,this.leaves[r])&&(e=r)}if(e<=-1)return[];for(let r=0;r<this.layers.length;r++){const c=this.layers[r],n=e%2,s=n?e-1:e+1;s<c.length&&i.push({position:n?"left":"right",data:c[s]}),e=e/2|0}return i}}function L(t){const{quantity:a,tokenDecimals:e}=t;return a==="unlimited"?T:F(a,e)}async function Mt(t){const a=t.entry.currencyAddress||w,e=await(async()=>{if(I(a)||a===w)return 18;const[{getContract:i},{decimals:r}]=await Promise.all([l(()=>import("./index-883b95b7.js").then(n=>n.cQ),["assets/index-883b95b7.js","assets/index-45a555f8.css"]),l(()=>import("./decimals-60222901.js"),["assets/decimals-60222901.js","assets/index-883b95b7.js","assets/index-45a555f8.css","assets/decimals-fd9ab67a.js"])]),c=i({address:a,chain:t.chain,client:t.client});return await r({contract:c})})();return G(we(["address","uint256","uint256","address"],[t.entry.address,L({quantity:t.entry.maxClaimable||"unlimited",tokenDecimals:t.tokenDecimals}),L({quantity:t.entry.price||"unlimited",tokenDecimals:e}),a]))}async function qt(t){const a=t.shardNybbles||2,e={};for(const m of t.overrides){const v=m.address.slice(2,2+a).toLowerCase();e[v]===void 0&&(e[v]=[]),e[v].push(m)}const i=await Promise.all(Object.entries(e).map(async([m,v])=>[m,new C(await Promise.all(v.map(async S=>Mt({entry:S,chain:t.chain,client:t.client,tokenDecimals:t.tokenDecimals})))).getHexRoot()])),r=Object.fromEntries(i),c=new C(Object.values(r)),n=[];for(const[m,v]of Object.entries(e)){const S={proofs:c.getHexProof(r[m]),entries:v};n.push({data:JSON.stringify(S),name:`${m}.json`})}let s=await _({client:t.client,files:n});if(Array.isArray(s)||(s=[s]),s.length===0)throw new Error("No URIs returned from uploading merkle tree shards");const o=s[0].slice(0,s[0].lastIndexOf("/")),d=await _({client:t.client,files:[JSON.stringify(t.overrides)]}),y={merkleRoot:c.getHexRoot(),baseUri:o,originalEntriesUri:d,shardNybbles:a,tokenDecimals:t.tokenDecimals,isShardedMerkleTree:!0},u=await _({client:t.client,files:[y]});return{shardedMerkleInfo:y,uri:u}}async function Bt(t){const a={},e=await Promise.all(t.phases.map(async n=>{var d;let s=n.merkleRootHash||de("",{size:32});if(n.overrideList){const{shardedMerkleInfo:y,uri:u}=await qt({overrides:n.overrideList,client:t.contract.client,chain:t.contract.chain,tokenDecimals:t.tokenDecimals});a[y.merkleRoot]=u,s=y.merkleRoot}let o="";return n.metadata&&typeof n.metadata=="string"?o=n.metadata:n.metadata&&typeof n.metadata=="object"&&(o=await _({client:t.contract.client,files:[n.metadata]})),{startTimestamp:U(n.startTime??new Date(0)),currency:n.currencyAddress||O,pricePerToken:await H({chain:t.contract.chain,client:t.contract.client,erc20Address:n.currencyAddress||O,amount:((d=n.price)==null?void 0:d.toString())??"0"}),maxClaimableSupply:n.maxClaimableSupply??T,quantityLimitPerWallet:n.maxClaimablePerWallet??T,merkleRoot:s,metadata:o,supplyClaimed:0n}})),i=[];if(Object.keys(a).length>0){const[{getContractMetadata:n},{encodeSetContractURI:s}]=await Promise.all([l(()=>import("./getContractMetadata-0eb471c6.js"),["assets/getContractMetadata-0eb471c6.js","assets/index-883b95b7.js","assets/index-45a555f8.css","assets/symbol-43e6f39f.js"]),l(()=>import("./setContractURI-02ab037e.js"),["assets/setContractURI-02ab037e.js","assets/index-883b95b7.js","assets/index-45a555f8.css"])]),o=await n({contract:t.contract});for(const m of Object.keys(o.merkle||{}))a[m]=o.merkle[m];const d={...o,merkle:a},y=await _({client:t.contract.client,files:[d]}),u=s({uri:y});i.push(u)}const r=e.sort((n,s)=>Number(n.startTimestamp-s.startTimestamp));let c;if(t.tokenId!==void 0){const{encodeSetClaimConditions:n}=await l(()=>import("./setClaimConditions-f6b51251.js"),["assets/setClaimConditions-f6b51251.js","assets/index-883b95b7.js","assets/index-45a555f8.css"]);c=n({tokenId:t.tokenId,phases:r,resetClaimEligibility:t.resetClaimEligibility||!1})}else{const{encodeSetClaimConditions:n}=await l(()=>import("./setClaimConditions-877a2b3d.js"),["assets/setClaimConditions-877a2b3d.js","assets/index-883b95b7.js","assets/index-45a555f8.css"]);c=n({phases:r,resetClaimEligibility:t.resetClaimEligibility||!1})}return i.push(c),i}const jt="0xac9650d8",zt=[{type:"bytes[]",name:"data"}],Vt=[{type:"bytes[]",name:"results"}];function Wt(t){const a=f(async()=>"asyncParams"in t?await t.asyncParams():t);return p({contract:t.contract,method:[jt,zt,Vt],params:async()=>[(await a()).data],value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function Ht(t){return Wt({contract:t.contract,asyncParams:async()=>({data:await Bt({contract:t.contract,phases:t.phases,resetClaimEligibility:t.resetClaimEligibility,tokenDecimals:0})})})}async function Qt(t=32){return x(globalThis.crypto.getRandomValues(new Uint8Array(t)))}const Jt="0x2c4510f8",Yt=[{type:"tuple",name:"payload",components:[{type:"address",name:"to"},{type:"address",name:"royaltyRecipient"},{type:"uint256",name:"royaltyBps"},{type:"address",name:"primarySaleRecipient"},{type:"string",name:"uri"},{type:"uint256",name:"price"},{type:"address",name:"currency"},{type:"uint128",name:"validityStartTimestamp"},{type:"uint128",name:"validityEndTimestamp"},{type:"bytes32",name:"uid"}]},{type:"bytes",name:"signature"}],Kt=[{type:"uint256",name:"tokenIdMinted"}];function Zt(t){const a=f(async()=>"asyncParams"in t?await t.asyncParams():t);return p({contract:t.contract,method:[Jt,Yt,Kt],params:async()=>{const e=await a();return[e.payload,e.signature]},value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function Xt(t){const a=I(t.payload.currency)?t.payload.price:0n;return Zt({...t,overrides:{value:a}})}async function ea(t){const{mintRequest:a,account:e,contract:i}=t,r=a.currency||O,[c,n,s]=await Promise.all([(async()=>{if("priceInWei"in a&&a.priceInWei)return a.priceInWei;if("price"in a&&a.price){const{convertErc20Amount:m}=await l(()=>Promise.resolve().then(()=>Dt),void 0);return await m({amount:a.price,client:i.client,chain:i.chain,erc20Address:r})}return 0n})(),(async()=>{if("metadata"in a){if(typeof a.metadata=="object"){const{upload:m}=await l(()=>import("./upload-3259c06e.js"),["assets/upload-3259c06e.js","assets/index-883b95b7.js","assets/index-45a555f8.css"]);return await m({client:t.contract.client,files:[a.metadata]})}return a.metadata}return""})(),a.uid||await Qt()]),o=a.validityStartTimestamp||new Date(0),d=a.validityEndTimestamp||Gt(),y={uri:n,currency:r,uid:s,price:c,to:a.to,royaltyRecipient:a.royaltyRecipient||e.address,royaltyBps:B(a.royaltyBps||0),primarySaleRecipient:a.primarySaleRecipient||e.address,validityStartTimestamp:U(o),validityEndTimestamp:U(d)},u=await e.signTypedData({domain:{name:"TokenERC721",version:"1",chainId:i.chain.id,verifyingContract:i.address},types:{MintRequest:ta},primaryType:"MintRequest",message:y});return{payload:y,signature:u}}const ta=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],aa="0xb280f703",na=[],ra=[{type:"string",name:"name"},{type:"string",name:"description"},{type:"string",name:"imageURI"},{type:"string",name:"animationURI"}];async function ia(t){return P({contract:t.contract,method:[aa,na,ra],params:[]})}const sa="0xa7d27d9d",ca=[{type:"tuple",name:"_metadata",components:[{type:"string",name:"name"},{type:"string",name:"description"},{type:"string",name:"imageURI"},{type:"string",name:"animationURI"}]}],oa=[];function da(t){const a=f(async()=>"asyncParams"in t?await t.asyncParams():t);return p({contract:t.contract,method:[sa,ca,oa],params:async()=>[(await a()).metadata],value:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.value},accessList:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.accessList},gas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gas},gasPrice:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.gasPrice},maxFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxFeePerGas},maxPriorityFeePerGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.maxPriorityFeePerGas},nonce:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.nonce},extraGas:async()=>{var e;return(e=(await a()).overrides)==null?void 0:e.extraGas}})}function ya(t){return da({contract:t.contract,asyncParams:async()=>{if(!t.nft.name)throw new Error("NFT name is required");const a=[(async()=>{if(!t.nft.image)return"";if(typeof t.nft.image=="string")return t.nft.image;const{upload:r}=await l(()=>import("./upload-3259c06e.js"),["assets/upload-3259c06e.js","assets/index-883b95b7.js","assets/index-45a555f8.css"]);return await r({client:t.contract.client,files:[t.nft.image]})})(),(async()=>{if(!t.nft.animation_url)return"";if(typeof t.nft.animation_url=="string")return t.nft.animation_url;const{upload:r}=await l(()=>import("./upload-3259c06e.js"),["assets/upload-3259c06e.js","assets/index-883b95b7.js","assets/index-45a555f8.css"]);return await r({client:t.contract.client,files:[t.nft.animation_url]})})()],[e,i]=await Promise.all(a);return{metadata:{name:t.nft.name,description:ua(t.nft.description)??"",imageURI:e??"",animationURI:i??""}}}})}function ua(t){if(!t)return t;const a=JSON.stringify(t);return a.slice(1,a.length-1)}function ma(t={}){return g({signature:"event Transfer(address indexed from, address indexed to, uint256 indexed tokenId)",filters:t})}function la(t={}){return g({signature:"event TokensLazyMinted(uint256 indexed startTokenId, uint256 endTokenId, string baseURI, bytes encryptedBaseURI)",filters:t})}function pa(t={}){return g({signature:"event Approval(address indexed owner, address indexed approved, uint256 indexed tokenId)",filters:t})}function fa(t={}){return g({signature:"event ApprovalForAll(address indexed owner, address indexed operator, bool approved)",filters:t})}function Pa(t={}){return g({signature:"event TokensMintedWithSignature(address indexed signer, address indexed mintedTo, uint256 indexed tokenIdMinted, (address to, address royaltyRecipient, uint256 royaltyBps, address primarySaleRecipient, string uri, uint256 price, address currency, uint128 validityStartTimestamp, uint128 validityEndTimestamp, bytes32 uid) mintpayload)",filters:t})}function ga(){return g({signature:"event ClaimConditionsUpdated((uint256 startTimestamp, uint256 maxClaimableSupply, uint256 supplyClaimed, uint256 quantityLimitPerWallet, bytes32 merkleRoot, uint256 pricePerToken, address currency, string metadata)[] claimConditions, bool resetEligibility)"})}function va(t={}){return g({signature:"event TokensClaimed(uint256 indexed claimConditionIndex, address indexed claimer, address indexed receiver, uint256 startTokenId, uint256 quantityClaimed)",filters:t})}function wa(){return g({signature:"event SharedMetadataUpdated(string name, string description, string imageURI, string animationURI)"})}function Ta(t={}){return g({signature:"event TokenURIRevealed(uint256 indexed index, string revealedURI)",filters:t})}const Ea=Object.freeze(Object.defineProperty({__proto__:null,approvalEvent:pa,approvalForAllEvent:fa,approve:mt,balanceOf:me,burn:rt,claimCondition:V,claimConditionsUpdatedEvent:ga,claimTo:Nt,generateMintSignature:ea,getActiveClaimCondition:W,getAllOwners:$e,getClaimConditionById:z,getNFT:A,getNFTs:ke,getOwnedNFTs:fe,getOwnedTokenIds:pe,getTotalClaimedSupply:j,getTotalUnclaimedSupply:Ve,isApprovedForAll:Me,isERC721:ye,lazyMint:At,mintTo:Ye,mintWithSignature:Xt,nextTokenIdToMint:h,ownerOf:D,setApprovalForAll:ot,setClaimConditions:Ht,setSharedMetadata:ya,setTokenURI:Pt,sharedMetadata:ia,sharedMetadataUpdatedEvent:wa,startTokenId:k,tokenOfOwnerByIndex:le,tokenURI:ue,tokenURIRevealedEvent:Ta,tokensClaimedEvent:va,tokensLazyMintedEvent:la,tokensMintedWithSignatureEvent:Pa,tokensOfOwner:Ce,totalSupply:b,transferEvent:ma,transferFrom:et},Symbol.toStringTag,{value:"Module"}));export{C as M,L as c,Ea as e,Mt as h};
