import{cL as m,al as d,ao as L,_ as u}from"./index-f68404bf.js";import{getContractMetadata as b}from"./getContractMetadata-a046bf3c.js";import{h,M as A,c as p}from"./erc721-3d6ed8c5.js";import"./symbol-92a1364f.js";import"./ownerOf-e93ed23b.js";import"./upload-655c2e4e.js";import"./regex-88e9c765.js";import"./prepare-event-079c7c52.js";async function S(r){const{contract:t,merkleRoot:y,claimer:s}=r,o=((await b({contract:t})).merkle||{})[y];if(!o)return null;const n=await(await m({client:t.client,uri:o})).json(),D=s.slice(2,2+n.shardNybbles).toLowerCase(),k=n.baseUri.endsWith("/")?n.baseUri:`${n.baseUri}/`;let i;try{const e=`${k}${D}.json`;i=await(await m({client:t.client,uri:e})).json()}catch{return null}const w=await Promise.all(i.entries.map(async e=>h({entry:e,chain:t.chain,client:t.client,tokenDecimals:r.tokenDecimals}))),f=new A(w),a=i.entries.find(e=>e.address.toLowerCase()===s.toLowerCase());if(!a)return null;const _=f.getHexProof(await h({entry:a,chain:t.chain,client:t.client,tokenDecimals:r.tokenDecimals})).concat(i.proofs),c=a.currencyAddress||d,P=await(async()=>{if(L(c)||c===d)return 18;const[{getContract:e},{decimals:l}]=await Promise.all([u(()=>import("./index-f68404bf.js").then(E=>E.cQ),["assets/index-f68404bf.js","assets/index-928478a6.css"]),u(()=>import("./decimals-5a87e668.js"),["assets/decimals-5a87e668.js","assets/index-f68404bf.js","assets/index-928478a6.css","assets/decimals-c569dc0d.js"])]),C=e({address:c,chain:t.chain,client:t.client});return await l({contract:C})})();return{proof:_,quantityLimitPerWallet:p({quantity:a.maxClaimable||"unlimited",tokenDecimals:r.tokenDecimals}),pricePerToken:p({quantity:a.price||"unlimited",tokenDecimals:P}),currency:c}}export{S as fetchProofsForClaimer};
